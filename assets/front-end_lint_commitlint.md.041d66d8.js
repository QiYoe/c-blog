import{o as n,c as s,b as a}from"./app.e234469c.js";const t='{"title":"Commitlint","description":"前端代码风格规范之Commitlint","frontmatter":{"title":"Commitlint","head":[["meta",{"name":"description","content":"前端代码风格规范之Commitlint"}],["meta",{"name":"keywords","content":"前端代码风格规范 commitlint"}]]},"headers":[{"level":2,"title":"前置知识","slug":"前置知识"},{"level":2,"title":"安装","slug":"安装"},{"level":2,"title":"验证","slug":"验证"}],"relativePath":"front-end/lint/commitlint.md","lastUpdated":1631806521983}',p={},o=[a('<h2 id="前置知识"><a class="header-anchor" href="#前置知识" aria-hidden="true">#</a> 前置知识</h2><p>有了 Husky 之后，我们就需要代码提交规范和校验了。</p><p><a href="https://www.npmjs.com/package/@commitlint/config-conventional" target="_blank" rel="noopener noreferrer">commitlint 包</a></p><p><a href="https://commitlint.js.org/#/reference-rules" target="_blank" rel="noopener noreferrer">commitlint 官方文档</a></p><p>同时配套的还有一个有意思的工具： <a href="https://gitmoji.dev/" target="_blank" rel="noopener noreferrer">gitmoji</a></p><h2 id="安装"><a class="header-anchor" href="#安装" aria-hidden="true">#</a> 安装</h2><div class="language-shell"><pre><code><span class="token function">npm</span> <span class="token function">install</span> -D @commitlint/config-conventional @commitlint/cli\n<span class="token comment"># or</span>\n<span class="token function">yarn</span> <span class="token function">add</span> @commitlint/config-conventional @commitlint/cli -D\n</code></pre></div><p>之后项目根目录创建 <code>commitlint.config.js</code> 文件：</p><div class="language-js"><pre><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>\n  ignores<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token parameter">commit</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> commit<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&#39;init&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;@commitlint/config-conventional&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n  rules<span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token string">&#39;body-leading-blank&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;always&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token string">&#39;footer-leading-blank&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;always&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token string">&#39;header-max-length&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;always&#39;</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token string">&#39;subject-empty&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;never&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token string">&#39;type-empty&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&#39;never&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token string">&#39;type-enum&#39;</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n      <span class="token number">2</span><span class="token punctuation">,</span>\n      <span class="token string">&#39;always&#39;</span><span class="token punctuation">,</span>\n      <span class="token punctuation">[</span> <span class="token string">&#39;feat&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;fix&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;perf&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;style&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;docs&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;test&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;refactor&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;build&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;ci&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;chore&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;revert&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;wip&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;workflow&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;types&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;release&#39;</span><span class="token punctuation">,</span>\n      <span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n</code></pre></div><h2 id="验证"><a class="header-anchor" href="#验证" aria-hidden="true">#</a> 验证</h2><p>终端运行：</p><div class="language-shell"><pre><code><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>\n<span class="token function">git</span> commit -m <span class="token string">&#39;test: test commitlint&#39;</span> \n</code></pre></div><div class="info custom-block"><p class="custom-block-title">INFO</p><p>接下来这一节 <a href="./commitizen.html">Commitizen</a> 是和此节配套的。但这一节实际上已经足够，<a href="./commitizen.html">Commitizen</a> 只是令此节内容人机交互性体验更强</p></div>',13)];p.render=function(a,t,p,e,c,l){return n(),s("div",null,o)};export{t as __pageData,p as default};
